/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.2/samples
 */

plugins {
    id 'application'
 	id 'antlr'
 	id 'eclipse'
 }
 
 repositories{
 	mavenCentral()
 }

 dependencies {
    antlr "org.antlr:antlr4:4.9.2"
    implementation group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.14.1'
    implementation group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.14.1'
}

/*sourceSets {
    generated {
    	java.srcDirs += 'generated-src/antlr/main/'
    }
}*/

task(translate, dependsOn: 'classes', type: JavaExec) {
   mainClass = 'crml.translator.Main'
   classpath = sourceSets.main.runtimeClasspath
}

task(parse, dependsOn: 'classes', type: JavaExec) {
   mainClass = 'crml.parser.Main'
   classpath = sourceSets.main.runtimeClasspath
}

application {
    mainClass = 'crml.parser.Main' 
}

generateGrammarSource {
    
    arguments += ["-visitor", "-long-messages", "-Xlog", "-listener",  "-lib", "src/main/antlr/grammar"]
 
}